/* frontend/src/styles/EmployeeDashboardPage.css */

/* --- Theme Variables (Updated with Admin Dashboard Palette) --- */
:root {
    --theme-red: #dc3545;
    --theme-red-light: rgba(220, 53, 69, 0.1);
    --theme-red-hover: #b02a37;
    --theme-black: #1f2937;
    --theme-white: #ffffff;
    --theme-bg: #f7f8fa;
    --theme-border: #e5e7eb;
    --theme-text-secondary: #6b7280;
    --theme-success: #109e03;
    --theme-break: #fd7e14;
    --accent-blue: #0d6efd;
    --accent-unpaid: #ffc107;
    --accent-extra: #6f42c1;

    --shadow-light: 0 8px 24px rgba(0, 0, 0, 0.06);
    --shadow-hover: 0 14px 30px rgba(0, 0, 0, 0.12);
    
    /* Custom easing curve for snappy, natural animations */
    --ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);
}

/* --- Page Container --- */
.employee-dashboard-container {
    width: 100%;
    min-height: 100vh;
    padding: 28px;
    background: radial-gradient(1200px 800px at 10% -10%, rgba(220,53,69,0.06), rgba(0,0,0,0) 40%), var(--theme-bg);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    overflow-y: auto;
}

/* Cards base and depth */
.dashboard-card-base {
    background-color: var(--theme-white);
    border-radius: 16px !important;
    box-shadow: var(--shadow-light) !important;
    border: 1px solid var(--theme-border);
    height: 100%;
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    transition: box-shadow 0.2s ease, transform 0.2s ease, border-color 0.2s ease;
}

.dashboard-card-base:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-hover) !important;
    border-color: rgba(220, 53, 69, 0.35);
}

/* Decorative top bar accent */
.dashboard-card-base::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: linear-gradient(90deg, var(--theme-red), rgba(220,53,69,0.4));
}

/* Section titles and dividers */
.card-title {
    color: var(--theme-black) !important;
    font-weight: 700 !important;
    letter-spacing: 0.2px;
}

.card-subtitle {
    color: var(--theme-text-secondary);
    font-size: 0.875rem;
}

.section-divider {
    border-color: var(--theme-red) !important;
    border-width: 2px !important;
    width: 48px;
    margin: 8px 0 16px 0 !important;
}

/* Specific cards sizing/padding */
.action-card {
    padding: 28px !important;
    min-height: 450px;
    width: 700px;
}
.weekly-view-card {
    padding: 16px !important;
    min-height: 350px;
}
.weekly-week-card {
    padding: 24px !important;
    background-color: #f8f9fa !important;
    border-radius: 16px !important;
}
.week-day-tile {
    padding: 14px;
    min-height: 150px;
    border-radius: 12px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    transition: all 0.2s ease-in-out;
    gap: 4px;
}
.week-day-name {
    color: var(--theme-text-secondary);
    font-size: 0.75rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    font-weight: 600;
}
.week-day-date {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--theme-black);
    letter-spacing: 0.03em;
}
.week-day-status-icon {
    font-size: 1.4rem !important;
}
.week-day-status-label {
    font-size: 0.75rem;
    letter-spacing: 0.04em;
    font-weight: 600;
    color: var(--theme-text-secondary);
}
.profile-card {
    text-align: center;
    position: relative;
    padding: 44px 28px 28px 28px !important;
    min-height: 320px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.profile-card-inner {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 14px;
}

.profile-details-stack {
    width: 100%;
    max-width: 260px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}
.profile-card-name {
    font-size: 1.35rem !important;
    font-weight: 600 !important;
    letter-spacing: 0.02em !important;
    margin-bottom: 0;
}
.profile-card-code {
    color: var(--theme-text-secondary);
    font-size: 0.95rem;
    font-weight: 500;
    letter-spacing: 0.03em;
    margin: 0;
}
.profile-card-divider {
    border-color: var(--theme-red);
    border-width: 1px;
    width: 64px;
    margin: 8px 0;
}
.profile-card-role-badge {
    border-radius: 999px !important;
    background-color: var(--theme-red-light) !important;
    color: var(--theme-red) !important;
    border: 1px solid rgba(220, 53, 69, 0.2) !important;
    font-weight: 600 !important;
    letter-spacing: 0.05em !important;
    padding: 2px 16px !important;
}
.profile-card-date {
    font-size: 0.85rem;
    color: var(--theme-text-secondary);
    letter-spacing: 0.04em;
    font-weight: 400;
}
.profile-avatar {
    width: 84px !important;
    height: 84px !important;
    margin: 0 auto;
    border: 3px solid var(--theme-white);
    background-color: var(--theme-red-light);
    color: var(--theme-red);
    box-shadow: inset 0 0 0 2px rgba(220,53,69,0.15);
    /* Prevent blinking by ensuring stable rendering */
    will-change: auto;
}
.profile-avatar-letter { font-size: 3rem; font-weight: bold; }

.shift-info-card { padding: 24px !important; height: 460px;  width: 400px; }
.recent-activity-card { padding: 20px !important; height: 500px; width: 500px; }
.saturday-schedule-card { padding: 24px !important; height: 300px; }

/* Progress Bar */
.progress-bar-container { position: relative; height: 12px; border-radius: 8px; background-color: #eef0f2; overflow: hidden; }
.progress-bar-segment { position: absolute; top: 0; left: 0; height: 100%; transition: width 0.4s ease, left 0.4s ease; }
.progress-bar-work { background: linear-gradient(90deg, #16a34a, #22c55e); z-index: 2; }
.progress-bar-work.overtime { background: linear-gradient(90deg, var(--theme-red), #ef4444); }
.progress-bar-break { background: linear-gradient(90deg, #ffe259, #f7b733); z-index: 3; }

/* Typography and buttons */
.theme-text-black { color: var(--theme-black) !important; }
.theme-button-red {
    background-color: var(--theme-red) !important;
    color: var(--theme-white) !important;
    font-weight: 700 !important;
    box-shadow: none !important;
    padding: 10px 20px !important;
    border-radius: 10px !important;
    letter-spacing: 0.2px;
    transition: all 0.2s ease-in-out !important;
}
.theme-button-red:hover { background-color: var(--theme-red-hover) !important; transform: translateY(-2px); box-shadow: var(--shadow-hover) !important; }

/* Smooth transition for Start Break / End Break button */
.theme-button-break,
.theme-button-break-end {
    transition: background-color 0.3s ease !important;
}

.theme-button-checkout { border-color: var(--theme-red) !important; color: var(--theme-red) !important; font-weight: 700 !important; border-radius: 10px !important; }
.theme-button-checkout:hover { background-color: var(--theme-red-light) !important; border-color: var(--theme-red-hover) !important; }

/* Chips */
.MuiChip-root { font-weight: 700 !important; }

/* Scroll areas subtle styling */
.recent-activity-card > div,
.saturday-schedule-card > div {
    scrollbar-width: thin;
    scrollbar-color: rgba(0,0,0,0.25) transparent;
}
.recent-activity-card > div::-webkit-scrollbar,
.saturday-schedule-card > div::-webkit-scrollbar { width: 8px; }
.recent-activity-card > div::-webkit-scrollbar-thumb,
.saturday-schedule-card > div::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.25); border-radius: 999px; }

/* Time Tracking Content Fade Animation */
.time-tracking-content {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s var(--ease-out-quint), visibility 0.3s var(--ease-out-quint);
    will-change: opacity;
}

.time-tracking-content.visible {
    opacity: 1;
    visibility: visible;
}

.time-tracking-content.hidden {
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
}

/* Break modal styles */
/* Material-UI Dialog backdrop fade animation */
.MuiDialog-root .MuiBackdrop-root {
    transition: opacity 0.3s ease !important;
}

.break-modal-paper { 
    border-radius: 16px !important; 
    min-width: 360px;
    transform: scale(0.95);
    transition: transform 0.4s var(--ease-out-quint), opacity 0.4s var(--ease-out-quint) !important;
    will-change: transform, opacity;
}

/* When Material-UI Fade transition enters (dialog opening) - add scale */
.MuiDialog-root .MuiFadeTransition-entering .break-modal-paper,
.MuiDialog-root .MuiFadeTransition-entered .break-modal-paper {
    transform: scale(1) !important;
}

/* Ensure the transition works when dialog closes */
.MuiDialog-root .MuiFadeTransition-exiting .break-modal-paper {
    transform: scale(0.95) !important;
}

/* Break modal card styles - animations handled by Framer Motion */

.break-modal-title { color: var(--theme-black); font-weight: 700 !important; }
.break-modal-card { padding: 20px; border: 1px solid var(--theme-border); border-radius: 12px !important; cursor: pointer; transition: all 0.2s ease-in-out; display: flex; align-items: center; gap: 16px; background-color: var(--theme-white); }
.break-modal-card:hover { transform: translateY(-3px); box-shadow: var(--shadow-hover) !important; border-color: var(--theme-red); background-color: #fff; }
.break-modal-card.extra:hover { border-color: var(--accent-extra); }
.break-modal-card.disabled { opacity: 0.6; cursor: not-allowed; background-color: var(--theme-bg); }
.break-modal-card.disabled:hover { transform: none; box-shadow: none !important; border-color: var(--theme-border); }
.break-modal-card.time-locked { filter: grayscale(0.8); border-color: var(--theme-border) !important; background-color: var(--theme-bg); }
.break-modal-card.time-locked .break-modal-icon { color: var(--theme-border); }
.break-modal-icon { font-size: 2.5rem !important; padding: 8px; border-radius: 50%; color: var(--theme-white); }
.break-modal-icon.paid { background-color: var(--theme-success); }
.break-modal-icon.unpaid { background-color: var(--accent-unpaid); }
.break-modal-icon.extra { background-color: var(--accent-extra); }

/* Late warning dialog */
.late-warning-dialog { border-radius: 16px !important; padding: 6px; }
.late-warning-header { display: flex; align-items: center; gap: 14px; justify-content: center; text-align: center; }
.late-warning-icon { width: 56px; height: 56px; border-radius: 14px; display: grid; place-items: center; background: linear-gradient(135deg, #ffe0e6, #fff); color: var(--theme-red); border: 1px solid rgba(220,53,69,0.15); box-shadow: var(--shadow-light); }
.late-warning-title { font-weight: 800 !important; }
.late-warning-subtitle { color: var(--theme-text-secondary); font-weight: 600; }
.late-warning-message { font-weight: 600; color: var(--theme-black); }
.late-warning-pill { background-color: var(--theme-red-light); color: var(--theme-red); padding: 8px 16px; border-radius: 999px; border: 1px solid rgba(220,53,69,0.2); }
.late-warning-dates { width: 100%; }
.late-date-chip { background-color: var(--theme-bg) !important; border: 1px solid var(--theme-border) !important; font-weight: 700 !important; }